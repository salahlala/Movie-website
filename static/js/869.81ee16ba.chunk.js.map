{"version":3,"file":"static/js/869.81ee16ba.chunk.js","mappings":"qKACA,EAA6B,gCAA7B,EAAuE,6B,iDC2GvE,EAtGoB,WAClB,IAAMA,GAAWC,EAAAA,EAAAA,MACjBC,GAAiCC,EAAAA,EAAAA,MAAzBC,EAAWF,EAAXE,YAAaC,EAAOH,EAAPG,QACrBC,GAAmCC,EAAAA,EAAAA,KAA3BC,EAAWF,EAAXE,YAAaC,EAASH,EAATG,UACrBC,GAA4CC,EAAAA,EAAAA,YAAUC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/CI,EAAcF,EAAA,GAAEG,EAAiBH,EAAA,GACxCI,GAAkCL,EAAAA,EAAAA,YAAUM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAArCE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GACtBG,GAAaC,EAAAA,EAAAA,MAAbD,SACRE,GAAgCX,EAAAA,EAAAA,YAAUY,GAAAV,EAAAA,EAAAA,GAAAS,EAAA,GAAnCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,IAE5BG,EAAAA,EAAAA,YAAU,WAYRlB,EACE,CACEmB,IAAI,mDAADC,OAAqDxB,EAAW,UAAAwB,OAASvB,GAC5EwB,QAAS,CACPC,OAAQ,mBACRC,cACE,gOAjBS,SAACC,GAChB,IAAMC,EAAWD,EAAKE,QAChBC,EAAa,GAEnB,IAAK,IAAIC,KADTjB,EAAaa,EAAKK,aACFJ,EACdE,EAAWG,KAAKL,EAASG,IAG3BrB,EAAkBoB,EACpB,GAaF,GAAG,CAAC3B,EAAaJ,EAAaC,KAE9BqB,EAAAA,EAAAA,YAAU,WACJN,IAAaI,IACfC,EAAYL,GACZmB,OAAOC,SAAS,CACdC,IAAK,EACLC,SAAU,WAGhB,GAAG,CAACtB,EAAUI,IAEd,IASMmB,EACJ7B,GACAA,EAAe8B,QAAO,SAACC,GAAI,OAA0B,OAArBA,EAAKC,WAAoB,IAE3D,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sCAAqCC,SAAA,EAClDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKC,SAAA,CACjBxC,IACCyC,EAAAA,EAAAA,KAAA,OAAKF,UAAS,wBAA0BC,UACtCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gCAAgCG,KAAK,SAAQF,UAC1DC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,kBAAiBC,SAAC,mBAIvCN,GACCA,EAAiBS,KAAI,SAACC,GAAK,OACzBH,EAAAA,EAAAA,KAACI,EAAAA,EAAS,CAACD,MAAOA,EAAOE,KAAM,GAAQF,EAAMG,GAAM,KAErD/C,GAAakC,GAAoBA,EAAiBc,OAAS,IAC3DP,EAAAA,EAAAA,KAAA,KACEF,UAAS,GAAApB,OAAK8B,EAAe,uDAAsDT,SACpF,uBAKJN,GAAoBA,EAAiBc,OAAS,GAAKvC,EAAY,IAC9D6B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sCAAqCC,SAAA,EAClDC,EAAAA,EAAAA,KAAA,OACEF,UAAS,GAAApB,OAAK8B,EAAkB,wBAChCC,QAnCiB,YACpBtD,EAAU,EAAI,GACnBL,EAAS,WAAD4B,OAAYxB,EAAW,UAAAwB,QAAUvB,EAAU,GACrD,EAgCsC4C,SAC7B,UAGDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,6CAA4CC,SACxD5C,KAEH6C,EAAAA,EAAAA,KAAA,OACEF,UAAS,GAAApB,OAAK8B,EAAkB,wBAChCC,QAhDiB,YACpBtD,EAAU,EAAIa,GACnBlB,EAAS,WAAD4B,OAAYxB,EAAW,UAAAwB,QAAUvB,EAAU,GACrD,EA6CsC4C,SAC7B,cAOX,C","sources":["webpack://movie-web/./src/components/Movies/SearchMovie.module.css?d87f","components/Movies/SearchMovie.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pagenation\":\"SearchMovie_pagenation__-CmWG\",\"nofound\":\"SearchMovie_nofound__N6+L1\"};","import classes from \"./SearchMovie.module.css\";\nimport MovieList from \"./MovieList\";\nimport { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport useHttp from \"../../hooks/use-http\";\nconst SearchMovie = () => {\n  const navigate = useNavigate();\n  const { searchQuery, numPage } = useParams();\n  const { sendRequest, isLoading } = useHttp();\n  const [searchFilmData, setSearchFilmData] = useState();\n  const [countPage, setCountPage] = useState();\n  const { pathname } = useLocation();\n  const [prevPath, setPrevPath] = useState();\n\n  useEffect(() => {\n    const sendData = (data) => {\n      const filmData = data.results;\n      const loadedData = [];\n      setCountPage(data.total_pages);\n      for (let key in filmData) {\n        loadedData.push(filmData[key]);\n      }\n\n      setSearchFilmData(loadedData);\n    };\n\n    sendRequest(\n      {\n        url: `https://api.themoviedb.org/3/search/movie?query=${searchQuery}&page=${numPage}`,\n        headers: {\n          accept: \"application/json\",\n          Authorization:\n            \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZDhiZDg4OTY0NjU3YmFlZjhhZGIyNzc0OTE3ZTcxMCIsInN1YiI6IjY0NmVjZDQ2ODk0ZWQ2MDBhNjdjNGY5MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.7lvAMCRi4BhcXfHFJnVoUF6LyuHdRSFhsK9lGkOk5gQ\",\n        },\n      },\n      sendData\n    );\n  }, [sendRequest, searchQuery, numPage]);\n\n  useEffect(() => {\n    if (pathname !== prevPath) {\n      setPrevPath(pathname);\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\",\n      });\n    }\n  }, [pathname, prevPath]);\n\n  const handleIncreasePage = () => {\n    if (+numPage + 1 > countPage) return;\n    navigate(`/search/${searchQuery}/page/${+numPage + 1}`);\n  };\n  const handleDecreasePage = () => {\n    if (+numPage - 1 < 1) return;\n    navigate(`/search/${searchQuery}/page/${+numPage - 1}`);\n  };\n\n  const filterSearchData =\n    searchFilmData &&\n    searchFilmData.filter((film) => film.poster_path !== null);\n\n  return (\n    <div className=\"col-lg-10 pt-lg-4 pt-5 mt-lg-0 mt-5\">\n      <div className=\"row\">\n        {isLoading && (\n          <div className={`pt-5 mt-5 text-center`}>\n            <div className=\"spinner-border text-secondary\" role=\"status\">\n              <span className=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n        )}\n        {filterSearchData &&\n          filterSearchData.map((movie) => (\n            <MovieList movie={movie} grid={3} key={movie.id} />\n          ))}\n        {!isLoading && filterSearchData && filterSearchData.length < 1 && (\n          <p\n            className={`${classes.nofound} text-center text-white fw-bold pt-5 text-uppercase`}\n          >\n            No Result Found\n          </p>\n        )}\n      </div>\n      {filterSearchData && filterSearchData.length > 0 && countPage > 1 && (\n        <div className=\"d-flex align-item-center gap-3 mb-4\">\n          <div\n            className={`${classes.pagenation} rounded-2 px-3 py-2`}\n            onClick={handleDecreasePage}\n          >\n            Back\n          </div>\n          <div className=\"rounded-pill px-3 py-2 bg-white text-black\">\n            {numPage}\n          </div>\n          <div\n            className={`${classes.pagenation} rounded-2 px-3 py-2`}\n            onClick={handleIncreasePage}\n          >\n            Next\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SearchMovie;\n"],"names":["navigate","useNavigate","_useParams","useParams","searchQuery","numPage","_useHttp","useHttp","sendRequest","isLoading","_useState","useState","_useState2","_slicedToArray","searchFilmData","setSearchFilmData","_useState3","_useState4","countPage","setCountPage","pathname","useLocation","_useState5","_useState6","prevPath","setPrevPath","useEffect","url","concat","headers","accept","Authorization","data","filmData","results","loadedData","key","total_pages","push","window","scrollTo","top","behavior","filterSearchData","filter","film","poster_path","_jsxs","className","children","_jsx","role","map","movie","MovieList","grid","id","length","classes","onClick"],"sourceRoot":""}